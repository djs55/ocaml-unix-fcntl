(library
 ((name    unix-fcntl.lwt)
  (libraries (lwt.preemptive unix-errno unix-type-representations ctypes))
  (wrapped false)
  (modules (fcntl_unix_lwt))
  (c_names (unix_fcntl_lwt_stubs.c))
))

(rule
 ((targets (unix_types_detected.ml))
  (deps    (../lib_gen/unix_fcntl_types_detect.exe))
  (action  (run ${<} -o ${@}))))

(rule
 ((targets (unix_fcntl_generated.ml unix_fcntl_stubs.c))
  (deps   (../lib_gen/unix_fcntl_bindgen.exe))
  (action  (run ${<} -o ${@}))))
